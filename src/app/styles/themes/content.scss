@use "functions.scss" as f;

@mixin themecontent($propstheme) {
    $bgcolorprimary: f.getvalmap($propstheme, "bgcolorprimary"); //background color primary
    $bgcolorsecondary: f.getvalmap($propstheme, "bgcolorsecondary"); //background color secondary
    $fgcolorprimary: f.getvalmap($propstheme, "fgcolorprimary"); //color primary
    $fgcolorsecondary: f.getvalmap($propstheme, "fgcolorsecondary"); //color secondary

    --bs-body-color: #{$fgcolorprimary};
    --bs-body-bg: #{$bgcolorprimary};

    .navbar {
        --background: #{$bgcolorsecondary};
        background: var(--background) !important;

        .navbar-brand {
            color: $fgcolorprimary;
        }

        input {
            background-color: inherit;
            color: $fgcolorsecondary;
        }

        form {
            input {
                border-color: $fgcolorprimary;
                color: $fgcolorprimary;
            }

            ::placeholder {
                color: $fgcolorprimary;
            }

            .btn {
                color: $fgcolorprimary;
            }
        }

        .btn {
            color: $fgcolorprimary;
        }

        .btnsearch {
            background-color: transparent !important;
        }

        .collapse {
            .btn {
                border-color: var(--bs-btn-close-color);
            }
        }
    }

    .offcanvas {
        .btn-close {
            --bs-btn-close-color: #{$fgcolorprimary};
            
            @if $fgcolorprimary == white or $fgcolorprimary == #ffffff {
                --bs-btn-close-bg: url("/icons/close/closeico_light.svg");
            } @else if $fgcolorprimary == black or $fgcolorprimary == #000000 {
                --bs-btn-close-bg: url("/icons/close/closeico_dark.svg");
            } @else {
                --bs-btn-close-bg: url("/icons/close/closeico.svg");
            }

            background: transparent var(--bs-btn-close-bg) center / 1em auto no-repeat;
            color: var(--bs-btn-close-color);
            stroke: var(--bs-btn-close-color);
            fill: var(--bs-btn-close-color);
        }
    }

    .modal {
        color: $fgcolorprimary;
        border-color: $fgcolorprimary;

        .modal-header, .modal-body, .modal-footer {
            border-color: $fgcolorprimary;
        }

        .btn-close {
            --bs-btn-close-color: #{$fgcolorprimary};
            
            @if $fgcolorprimary == white or $fgcolorprimary == #ffffff {
                --bs-btn-close-bg: url("/icons/close/closeico_light.svg");
            } @else if $fgcolorprimary == black or $fgcolorprimary == #000000 {
                --bs-btn-close-bg: url("/icons/close/closeico_dark.svg");
            } @else {
                --bs-btn-close-bg: url("/icons/close/closeico.svg");
            }

            background: transparent var(--bs-btn-close-bg) center / 1em auto no-repeat;
            color: var(--bs-btn-close-color);
            stroke: var(--bs-btn-close-color);
            fill: var(--bs-btn-close-color);
        }
    }

    .dropdown-menu {
        background-color: $bgcolorprimary;
        color: $fgcolorprimary;

        & {
            .active {
                --bs-dropdown-link-active-bg: #{$bgcolorsecondary};
                --bs-dropdown-link-active-color: #{$fgcolorprimary};
            }

            :active, :focus, :hover {
                background-color: $bgcolorsecondary !important;
                color: $fgcolorprimary !important;
            }
        }
    }

    header {
        background-color: inherit;
    }

    section, .container, .container-fluid {
        .btn {
            background-color: $bgcolorsecondary;
            border-color: $bgcolorsecondary;
            color: $fgcolorprimary;
        }
    }

    #login section {
        background-color: #{$bgcolorsecondary + "b3"} !important;
        color: $fgcolorsecondary;

        label, p, i, a {
            color: $fgcolorprimary;
        }

        form {
            input {
                background-color: transparent;
                color: $fgcolorprimary;

                &::placeholder {
                    color: $fgcolorprimary;
                }
            }
        }
    }

    #register section {
        background-color: #{$bgcolorsecondary + "b3"} !important;
        color: $fgcolorsecondary;

        label, p, i, a {
            color: $fgcolorprimary;
        }

        form {
            input {
                background-color: transparent;
                color: $fgcolorprimary;

                &::placeholder {
                    color: $fgcolorprimary;
                }
            }
        }
    }

    .alert {
        background-color: #{$bgcolorsecondary + "b3"} !important;
        color: $fgcolorprimary;
        border-color: $fgcolorprimary;
    }

    footer {
        --background: #{$bgcolorsecondary};
        background: var(--background) !important;
        color: $fgcolorprimary;

        .btn {
            background-color: $bgcolorprimary !important;
            color: $fgcolorprimary;
        }
    }
}